# Strategy Configuration
# Controls parameters for each query strategy

# Global Re-ranking Configuration
reranking:
  enabled: true
  model: "cross-encoder/ms-marco-MiniLM-L-6-v2"
  batch_size: 32
  device: "cpu"  # or "cuda" for GPU

# Global Multi-Stage Retrieval Configuration
retrieval:
  enable_multi_stage: true
  default_candidates: 50  # Initial retrieval count for stage 1

strategies:
  simple_fact:
    description: "Quick fact retrieval for simple questions"
    top_k: 2  # Reduced from 3
    retrieval_depth: 1
    initial_candidates: 3
    use_reranking: false
    use_query_expansion: false
    temperature: 0.0
    max_tokens: 300  # Reduced from 500
    
  complex_fact:
    description: "Detailed fact retrieval for complex questions"
    top_k: 5  # Reduced from 10
    retrieval_depth: 1  # Reduced from 2 (less context expansion)
    initial_candidates: 25  # Reduced from 50
    use_reranking: true
    rerank_candidates: 25
    use_query_expansion: true
    temperature: 0.1
    max_tokens: 800  # Reduced from 1000
    
  summary:
    description: "Document summarization"
    top_k: 8  # Balanced for summary without overload
    retrieval_depth: 1  # Reduced from 2
    initial_candidates: 40  # Reduced from 100
    use_reranking: true
    rerank_candidates: 20
    use_query_expansion: false
    temperature: 0.2
    max_tokens: 1000  # Reduced from 2048
    
  comparison:
    description: "Compare multiple items"
    top_k: 6  # Reduced from 20 (3 chunks per item is usually enough)
    retrieval_depth: 1  # Reduced from 2
    initial_candidates: 30  # Reduced from 60
    use_reranking: true
    rerank_candidates: 30
    use_query_expansion: true
    temperature: 0.1
    max_tokens: 1000  # Reduced from 1500
    
  reasoning:
    description: "Complex reasoning and analysis"
    top_k: 6  # Reduced from 15
    retrieval_depth: 1  # Reduced from 2
    initial_candidates: 30  # Reduced from 60
    use_reranking: true
    rerank_candidates: 30
    use_query_expansion: true
    temperature: 0.15
    max_tokens: 1200  # Reduced from 2048
