# Strategy Configuration
# Controls parameters for each query strategy

# Global Re-ranking Configuration
reranking:
  enabled: true
  model: "cross-encoder/ms-marco-MiniLM-L-6-v2"
  batch_size: 32
  device: "cpu"  # or "cuda" for GPU

# Global Multi-Stage Retrieval Configuration
retrieval:
  enable_multi_stage: true
  default_candidates: 50  # Initial retrieval count for stage 1

strategies:
  simple_fact:
    description: "Quick fact retrieval for simple questions"
    top_k: 3
    retrieval_depth: 1  # No expansion (fast)
    initial_candidates: 3  # Direct retrieval
    use_reranking: false  # Simple queries don't need reranking
    use_query_expansion: false
    temperature: 0.0
    max_tokens: 500
    
  complex_fact:
    description: "Detailed fact retrieval for complex questions"
    top_k: 10
    retrieval_depth: 2  # Expand with neighbors
    initial_candidates: 50  # Stage 1 retrieval
    use_reranking: true  # Re-rank for better accuracy
    rerank_candidates: 50  # Retrieve 50, re-rank to top_k
    use_query_expansion: true
    temperature: 0.1
    max_tokens: 1000
    
  summary:
    description: "Document summarization"
    top_k: 30
    retrieval_depth: 2  # Expand for better coverage
    initial_candidates: 100  # Need many candidates for summaries
    use_reranking: true  # Re-rank for better chunk selection
    rerank_candidates: 100  # Retrieve 100, re-rank to top_k
    use_query_expansion: false
    temperature: 0.2
    max_tokens: 2048
    
  comparison:
    description: "Compare multiple items"
    top_k: 20
    retrieval_depth: 2  # Need context for both items
    initial_candidates: 60  # Stage 1 retrieval
    use_reranking: true
    rerank_candidates: 60
    use_query_expansion: true
    temperature: 0.1
    max_tokens: 1500
    
  reasoning:
    description: "Complex reasoning and analysis"
    top_k: 15
    retrieval_depth: 2  # Need full context for reasoning
    initial_candidates: 60  # Stage 1 retrieval
    use_reranking: true
    rerank_candidates: 60
    use_query_expansion: true
    temperature: 0.15
    max_tokens: 2048
